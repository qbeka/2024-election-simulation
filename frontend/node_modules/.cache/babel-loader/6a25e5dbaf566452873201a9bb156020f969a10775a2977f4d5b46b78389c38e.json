{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import'../styles/ElectoralVoteBar.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ElectoralVoteBar=()=>{const[votes,setVotes]=useState({democrat_ev:0,republican_ev:0});useEffect(()=>{const fetchElectoralVotes=()=>{axios.get('http://localhost:5000/api/electoral-votes').then(response=>{setVotes(response.data);}).catch(error=>{console.error('Error fetching electoral votes:',error);});};fetchElectoralVotes();const interval=setInterval(fetchElectoralVotes,1000);return()=>clearInterval(interval);},[]);const totalEV=538;const democratPercentage=votes.democrat_ev/totalEV*100;const republicanPercentage=votes.republican_ev/totalEV*100;return/*#__PURE__*/_jsxs(\"div\",{className:\"electoral-vote-bar\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"labels\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Democrat\"}),/*#__PURE__*/_jsx(\"span\",{children:\"270 Votes Needed to Win\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Republican\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bar\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"democrat\",style:{width:`${democratPercentage}%`},children:votes.democrat_ev>0&&votes.democrat_ev}),/*#__PURE__*/_jsx(\"div\",{className:\"republican\",style:{width:`${republicanPercentage}%`},children:votes.republican_ev>0&&votes.republican_ev})]})]});};export default ElectoralVoteBar;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","ElectoralVoteBar","votes","setVotes","democrat_ev","republican_ev","fetchElectoralVotes","get","then","response","data","catch","error","console","interval","setInterval","clearInterval","totalEV","democratPercentage","republicanPercentage","className","children","style","width"],"sources":["/Users/qendrimbeka/Decentralized voting simulation/frontend/src/components/ElectoralVoteBar.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport '../styles/ElectoralVoteBar.css';\n\nconst ElectoralVoteBar = () => {\n  const [votes, setVotes] = useState({\n    democrat_ev: 0,\n    republican_ev: 0,\n  });\n\n  useEffect(() => {\n    const fetchElectoralVotes = () => {\n      axios\n        .get('http://localhost:5000/api/electoral-votes')\n        .then((response) => {\n          setVotes(response.data);\n        })\n        .catch((error) => {\n          console.error('Error fetching electoral votes:', error);\n        });\n    };\n\n    fetchElectoralVotes();\n    const interval = setInterval(fetchElectoralVotes, 1000);\n    return () => clearInterval(interval);\n  }, []);\n\n  const totalEV = 538;\n  const democratPercentage = (votes.democrat_ev / totalEV) * 100;\n  const republicanPercentage = (votes.republican_ev / totalEV) * 100;\n\n  return (\n    <div className=\"electoral-vote-bar\">\n      <div className=\"labels\">\n        <span>Democrat</span>\n        <span>270 Votes Needed to Win</span>\n        <span>Republican</span>\n      </div>\n      <div className=\"bar\">\n        <div\n          className=\"democrat\"\n          style={{ width: `${democratPercentage}%` }}\n        >\n          {votes.democrat_ev > 0 && votes.democrat_ev}\n        </div>\n        <div\n          className=\"republican\"\n          style={{ width: `${republicanPercentage}%` }}\n        >\n          {votes.republican_ev > 0 && votes.republican_ev}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ElectoralVoteBar;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,gCAAgC,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAExC,KAAM,CAAAC,gBAAgB,CAAGA,CAAA,GAAM,CAC7B,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGT,QAAQ,CAAC,CACjCU,WAAW,CAAE,CAAC,CACdC,aAAa,CAAE,CACjB,CAAC,CAAC,CAEFV,SAAS,CAAC,IAAM,CACd,KAAM,CAAAW,mBAAmB,CAAGA,CAAA,GAAM,CAChCV,KAAK,CACFW,GAAG,CAAC,2CAA2C,CAAC,CAChDC,IAAI,CAAEC,QAAQ,EAAK,CAClBN,QAAQ,CAACM,QAAQ,CAACC,IAAI,CAAC,CACzB,CAAC,CAAC,CACDC,KAAK,CAAEC,KAAK,EAAK,CAChBC,OAAO,CAACD,KAAK,CAAC,iCAAiC,CAAEA,KAAK,CAAC,CACzD,CAAC,CAAC,CACN,CAAC,CAEDN,mBAAmB,CAAC,CAAC,CACrB,KAAM,CAAAQ,QAAQ,CAAGC,WAAW,CAACT,mBAAmB,CAAE,IAAI,CAAC,CACvD,MAAO,IAAMU,aAAa,CAACF,QAAQ,CAAC,CACtC,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAG,OAAO,CAAG,GAAG,CACnB,KAAM,CAAAC,kBAAkB,CAAIhB,KAAK,CAACE,WAAW,CAAGa,OAAO,CAAI,GAAG,CAC9D,KAAM,CAAAE,oBAAoB,CAAIjB,KAAK,CAACG,aAAa,CAAGY,OAAO,CAAI,GAAG,CAElE,mBACEjB,KAAA,QAAKoB,SAAS,CAAC,oBAAoB,CAAAC,QAAA,eACjCrB,KAAA,QAAKoB,SAAS,CAAC,QAAQ,CAAAC,QAAA,eACrBvB,IAAA,SAAAuB,QAAA,CAAM,UAAQ,CAAM,CAAC,cACrBvB,IAAA,SAAAuB,QAAA,CAAM,yBAAuB,CAAM,CAAC,cACpCvB,IAAA,SAAAuB,QAAA,CAAM,YAAU,CAAM,CAAC,EACpB,CAAC,cACNrB,KAAA,QAAKoB,SAAS,CAAC,KAAK,CAAAC,QAAA,eAClBvB,IAAA,QACEsB,SAAS,CAAC,UAAU,CACpBE,KAAK,CAAE,CAAEC,KAAK,CAAE,GAAGL,kBAAkB,GAAI,CAAE,CAAAG,QAAA,CAE1CnB,KAAK,CAACE,WAAW,CAAG,CAAC,EAAIF,KAAK,CAACE,WAAW,CACxC,CAAC,cACNN,IAAA,QACEsB,SAAS,CAAC,YAAY,CACtBE,KAAK,CAAE,CAAEC,KAAK,CAAE,GAAGJ,oBAAoB,GAAI,CAAE,CAAAE,QAAA,CAE5CnB,KAAK,CAACG,aAAa,CAAG,CAAC,EAAIH,KAAK,CAACG,aAAa,CAC5C,CAAC,EACH,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAJ,gBAAgB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}